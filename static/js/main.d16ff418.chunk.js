(this["webpackJsonpchuck-react"]=this["webpackJsonpchuck-react"]||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var c,r=n(0),a=n.n(r),o=n(15),i=n.n(o),s=n(27),u=(n(87),n(49)),j=n(8),h=n(117),l=n(118),d=n(75),b={categories:{list:function(){return{method:"get",path:"categories"}}},jokes:{get:function(e){return{method:"get",path:"random?category=".concat(e)}},search:function(e){return{method:"get",path:"search?query=".concat(e)}}}},O="SEARCH_JOKES",g="FETCH_CATEGORIES",f="FETCH_JOKE_BY_CATEGORY",p="CLEAR_SEARCH_JOKES",x=n(66),y=n(67),C=n(122),v=n(115),S=n(78),m=n(73),k=n(5),E=Object(y.a)(C.a)(c||(c=Object(x.a)(["\n  border: none;\n"]))),T=function(e){var t=e.category,n=e.joke,c=e.onLoadAnotherJoke,r=e.categories,a=e.onSelectCategory;return Object(k.jsx)(k.Fragment,{children:n&&Object(k.jsx)(E,{children:Object(k.jsxs)(C.a.Body,{children:[Object(k.jsx)(C.a.Title,{children:t&&Object(k.jsx)(v.a,{"data-testid":"category-dropdown",title:t,children:r.map((function(e){return Object(k.jsx)(S.a.Item,{"data-testid":"category-dropdown-item-".concat(e),onClick:function(t){!function(e,t){e.currentTarget.blur(),a(t)}(t,e)},children:e},e)}))})}),Object(k.jsx)(C.a.Text,{children:n.value}),Object(k.jsxs)(m.a,{variant:"outline-secondary",onClick:function(e){e.currentTarget.blur(),c()},"data-testid":"load-another-joke-button",children:["Another ",Object(k.jsx)("b",{children:t})," joke"]})]})})})},_=n(120),L=function(e){var t=e.onGoHome;return Object(k.jsxs)(_.a,{bg:"primary",variant:"dark",children:[Object(k.jsx)(_.a.Brand,{href:"#",onClick:function(){return t()},children:"Chuck React"}),Object(k.jsx)(_.a.Toggle,{"aria-controls":"basic-navbar-nav"})]})},R=n(53),A=n(74),F=n.n(A),w=n(119),I=n(116),G=n(123),J=n(121),U=function(e){var t=e.results,n=e.onSearch,c=e.onClearSearch,a=t.items,o=t.isLoading,i=Object(r.useState)(""),s=Object(R.a)(i,2),u=s[0],j=s[1],h=Object(r.useState)(!1),l=Object(R.a)(h,2),d=l[0],b=l[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(w.a,{children:Object(k.jsxs)(w.a.Group,{children:[Object(k.jsx)(w.a.Label,{children:Object(k.jsx)("b",{children:"Search more jokes"})}),Object(k.jsxs)(I.a,{className:"mb-3",children:[Object(k.jsx)(w.a.Control,{type:"text",value:u,onChange:function(e){var t=e.target.value;(j(t),t.length>=3)?(F()((function(){return n(t)}),300)(),b(!0)):(c(),b(!1))},"data-testid":"search-input",placeholder:"Enter your search phrase e.g. food"}),Object(k.jsx)(I.a.Append,{children:Object(k.jsx)(m.a,{variant:"outline-secondary",onClick:function(e){e.currentTarget.blur(),j(""),c(),b(!1)},children:"Clear"})})]}),!d&&Object(k.jsx)(w.a.Text,{muted:!0,children:"Your search phrase must be 3 characters or longer"})]})}),Object(k.jsx)("br",{}),o?Object(k.jsx)(G.a,{variant:"info",children:"Loading jokes..."}):d&&!a.length&&Object(k.jsx)(G.a,{variant:"warning",children:"No results to display"}),Object(k.jsx)(J.a,{children:a.map((function(e){return Object(k.jsx)(J.a.Item,{children:e.value},e.id)}))})]})},q=function(){var e=Object(j.f)(),t=Object(s.b)(),n=Object(j.g)().category,c=Object(s.c)((function(e){return e.joke})),a=Object(s.c)((function(e){return e.categories})),o=Object(s.c)((function(e){return e.searchResults})),i=Object(r.useCallback)((function(){t(function(e){return{type:f,request:b.jokes.get(e)}}(n))}),[t,n]);Object(r.useEffect)((function(){t({type:g,request:b.categories.list()})}),[t]),Object(r.useEffect)((function(){var t;n?i():!n&&a.length&&e.push((t=a)[Math.floor(Math.random()*t.length)])}),[n,a,e,t,i]);var u=function(t){return e.push("/".concat(t))};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(L,{onGoHome:function(){return u("")}}),Object(k.jsxs)(h.a,{children:[Object(k.jsx)(l.a,{children:Object(k.jsx)(T,{category:n,joke:c,onLoadAnotherJoke:i,categories:a,onSelectCategory:u})}),Object(k.jsx)(l.a,{children:Object(k.jsx)(d.a,{children:Object(k.jsx)(U,{results:o,onSearch:function(e){return t(function(e){return{type:O,request:b.jokes.search(e)}}(e))},onClearSearch:function(){return t({type:p})}})})})]})]})},H=function(){return Object(k.jsx)(u.a,{children:Object(k.jsx)(j.c,{children:Object(k.jsx)(j.a,{path:"/:category?",component:q})})})},B=n(76),N=n(21),K=[],M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(g,"_SUCCESS"):return t.payload;default:return e}},Y=n(54),P={items:[],isLoading:!1},Q=Object(N.c)({joke:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(f,"_SUCCESS"):return t.payload;default:return e}},categories:M,searchResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(O,"_SUCCESS"):return{items:t.payload.result,isLoading:!1};case"".concat(O,"_REQUESTING"):return Object(Y.a)(Object(Y.a)({},e),{},{isLoading:!0});case p:return P;default:return e}}}),D=n(77),z=n.n(D),V=function(e){return function(t){return function(n){if(!n.request)return t(n);var c=n.request,r=c.method,a=c.path,o="".concat("https://api.chucknorris.io/jokes","/").concat(a);e.dispatch({type:"".concat(n.type,"_REQUESTING")}),z.a[r](o).then((function(t){e.dispatch({type:"".concat(n.type,"_SUCCESS"),payload:t.data})})).catch((function(){e.dispatch({type:"".concat(n.type,"_FAILURE")})}))}}},W=Object(N.e)(Q,{},Object(N.d)(Object(N.a)(B.a,V))),X=(n(109),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,124)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))});i.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(s.a,{store:W,children:Object(k.jsx)(H,{})})}),document.getElementById("root")),X()},87:function(e,t,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.d16ff418.chunk.js.map