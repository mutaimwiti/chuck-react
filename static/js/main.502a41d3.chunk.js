(this["webpackJsonpchuck-react"]=this["webpackJsonpchuck-react"]||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var c,r=n(0),a=n.n(r),o=n(15),i=n.n(o),s=n(27),u=(n(87),n(49)),j=n(8),h=n(118),d=n(119),l=n(75),b={categories:{list:function(){return{method:"get",path:"categories"}}},jokes:{get:function(e){return{method:"get",path:"random?category=".concat(e)}},search:function(e){return{method:"get",path:"search?query=".concat(e)}}}},O="SEARCH_JOKES",g="FETCH_CATEGORIES",f="FETCH_JOKE_BY_CATEGORY",p="CLEAR_SEARCH_JOKES",x=n(66),y=n(67),m=n(123),v=n(115),C=n(78),S=n(73),k=n(116),E=n(5),T=Object(y.a)(m.a)(c||(c=Object(x.a)(["\n  border: none;\n"]))),_=function(e){var t=e.category,n=e.joke,c=e.onLoadAnotherJoke,r=e.categories,a=e.onSelectCategory;return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(T,{children:Object(E.jsx)(m.a.Body,{children:n?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(m.a.Title,{children:t&&Object(E.jsx)(v.a,{"data-testid":"category-dropdown",title:t,children:r.map((function(e){return Object(E.jsx)(C.a.Item,{"data-testid":"category-dropdown-item-".concat(e),onClick:function(t){!function(e,t){e.currentTarget.blur(),a(t)}(t,e)},children:e},e)}))})}),Object(E.jsx)(m.a.Text,{children:n.value}),Object(E.jsxs)(S.a,{variant:"outline-secondary",onClick:function(e){e.currentTarget.blur(),c()},"data-testid":"load-another-joke-button",children:["Another ",Object(E.jsx)("b",{children:t})," joke"]})]}):Object(E.jsx)(k.a,{animation:"border","data-testid":"joke-spinner"})})})})},L=n(121),F=function(e){var t=e.onGoHome;return Object(E.jsxs)(L.a,{bg:"primary",variant:"dark",children:[Object(E.jsx)(L.a.Brand,{href:"#",onClick:function(){return t()},children:"Chuck React"}),Object(E.jsx)(L.a.Toggle,{"aria-controls":"basic-navbar-nav"})]})},R=n(53),A=n(74),w=n.n(A),I=n(120),G=n(117),J=n(124),U=n(122),q=function(e){var t=e.results,n=e.onSearch,c=e.onClearSearch,a=t.items,o=t.isLoading,i=Object(r.useState)(""),s=Object(R.a)(i,2),u=s[0],j=s[1],h=Object(r.useState)(!1),d=Object(R.a)(h,2),l=d[0],b=d[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(I.a,{onSubmit:function(e){return e.preventDefault()},children:Object(E.jsxs)(I.a.Group,{children:[Object(E.jsx)(I.a.Label,{children:Object(E.jsx)("b",{children:"Search more jokes"})}),Object(E.jsxs)(G.a,{className:"mb-3",children:[Object(E.jsx)(I.a.Control,{type:"text",value:u,onChange:function(e){var t=e.target.value;(j(t),t.length>=3)?(w()((function(){return n(t)}),300)(),b(!0)):(c(),b(!1))},"data-testid":"search-input",placeholder:"Enter your search phrase e.g. food"}),Object(E.jsx)(G.a.Append,{children:Object(E.jsx)(S.a,{variant:"outline-secondary",onClick:function(e){e.currentTarget.blur(),j(""),c(),b(!1)},children:"Clear"})})]}),!l&&Object(E.jsx)(I.a.Text,{muted:!0,children:"Your search phrase must be 3 characters or longer"})]})}),Object(E.jsx)("br",{}),o?Object(E.jsx)(J.a,{variant:"info",children:"Loading jokes..."}):l&&!a.length&&Object(E.jsx)(J.a,{variant:"warning",children:"No results to display"}),Object(E.jsx)(U.a,{children:a.map((function(e){return Object(E.jsx)(U.a.Item,{children:e.value},e.id)}))})]})},H=function(){var e=Object(j.f)(),t=Object(s.b)(),n=Object(j.g)().category,c=Object(s.c)((function(e){return e.joke})),a=Object(s.c)((function(e){return e.categories})),o=Object(s.c)((function(e){return e.searchResults})),i=Object(r.useCallback)((function(){t(function(e){return{type:f,request:b.jokes.get(e)}}(n))}),[t,n]);Object(r.useEffect)((function(){t({type:g,request:b.categories.list()})}),[t]),Object(r.useEffect)((function(){var t;n?i():!n&&a.length&&e.push((t=a)[Math.floor(Math.random()*t.length)])}),[n,a,e,t,i]);var u=function(t){return e.push("/".concat(t))};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(F,{onGoHome:function(){return u("")}}),Object(E.jsxs)(h.a,{children:[Object(E.jsx)(d.a,{children:Object(E.jsx)(_,{category:n,joke:c,onLoadAnotherJoke:i,categories:a,onSelectCategory:u})}),Object(E.jsx)(d.a,{children:Object(E.jsx)(l.a,{children:Object(E.jsx)(q,{results:o,onSearch:function(e){return t(function(e){return{type:O,request:b.jokes.search(e)}}(e))},onClearSearch:function(){return t({type:p})}})})})]})]})},B=function(){return Object(E.jsx)(u.a,{basename:"/chuck-react",children:Object(E.jsx)(j.c,{children:Object(E.jsx)(j.a,{path:"/:category?",component:H})})})},N=n(76),K=n(21),M=[],Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(g,"_SUCCESS"):return t.payload;default:return e}},D=n(54),P={items:[],isLoading:!1},Q=Object(K.c)({joke:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(f,"_SUCCESS"):return t.payload;default:return e}},categories:Y,searchResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(O,"_SUCCESS"):return{items:t.payload.result,isLoading:!1};case"".concat(O,"_REQUESTING"):return Object(D.a)(Object(D.a)({},e),{},{isLoading:!0});case p:return P;default:return e}}}),z=n(77),V=n.n(z),W=function(e){return function(t){return function(n){if(!n.request)return t(n);var c=n.request,r=c.method,a=c.path,o="".concat("https://api.chucknorris.io/jokes","/").concat(a);e.dispatch({type:"".concat(n.type,"_REQUESTING")}),V.a[r](o).then((function(t){e.dispatch({type:"".concat(n.type,"_SUCCESS"),payload:t.data})})).catch((function(){e.dispatch({type:"".concat(n.type,"_FAILURE")})}))}}},X=Object(K.e)(Q,{},Object(K.d)(Object(K.a)(N.a,W))),Z=(n(109),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,125)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))});i.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(s.a,{store:X,children:Object(E.jsx)(B,{})})}),document.getElementById("root")),Z()},87:function(e,t,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.502a41d3.chunk.js.map